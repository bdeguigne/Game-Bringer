{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/bdeguigne/Documents/Game Bringer/src/components/CrossFadeImages.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from \"styled-components\";\nimport \"./CrossFadeImage.css\";\nimport { crossFadeImagesBoxShadow } from \"../utils/styles\";\nimport ImageLoader from \"./ImageLoader\";\nconst Container = styled.div`\n  width: 100%;\n  height: 100%;\n  position: relative;\n  box-shadow: ${props => props.shadow ? crossFadeImagesBoxShadow : null};\n`;\n_c = Container;\n\nconst CrossFadeImages = props => {\n  _s();\n\n  const [showedImageIndex, setShowedImageIndex] = useState(0);\n  const [next, setNext] = useState(false);\n  const [nextIndex, setNextIndex] = useState(-1);\n  const [loaded, setLoaded] = useState(false);\n  useEffect(() => {\n    let interval;\n\n    if (props.interval !== undefined && props.active && props.images && props.images.length > 1) {\n      interval = setInterval(() => setNext(true), props.interval);\n    }\n\n    if (props.interval !== undefined && !props.active) {\n      clearInterval(interval);\n    }\n\n    return () => {\n      clearInterval(interval);\n    };\n  }, [props.interval, props.active]);\n  useEffect(() => {\n    if (next && props.interval) {\n      setNextIndex(getNextIndex());\n      setTimeout(incrementIndex, 550);\n    }\n  }, [next]);\n  useEffect(() => {\n    if (props.index !== undefined) {\n      goToIndex(props.index);\n    }\n  }, [props.index]);\n  useEffect(() => {\n    if (loaded === true && props.onLoad) {\n      props.onLoad();\n    }\n  }, [loaded]);\n\n  function getNextIndex() {\n    if (showedImageIndex + 1 >= props.images.length) return 0;else return showedImageIndex + 1;\n  }\n\n  function incrementIndex() {\n    if (showedImageIndex + 1 >= props.images.length) setShowedImageIndex(0);else setShowedImageIndex(showedImageIndex + 1);\n    setNext(false);\n  }\n\n  function goToIndex(index) {\n    if (index !== showedImageIndex) {\n      setNext(true);\n      setNextIndex(index);\n      setTimeout(() => {\n        setShowedImageIndex(index);\n        setNext(false);\n      }, 550);\n    }\n  }\n\n  function onLoad() {\n    if (loaded === false) {\n      setLoaded(true);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    style: {\n      borderRadius: props.style.borderRadius\n    },\n    shadow: props.elevation,\n    children: props.images && props.images.map((image, index) => {\n      const url = props.prefixUrl + image.image_id + \".jpg\";\n\n      if (props.skeletonOnLoadingImages) {\n        if (showedImageIndex === index) {\n          return /*#__PURE__*/_jsxDEV(ImageLoader, {\n            onLoad: onLoad,\n            style: props.style,\n            className: next ? \"crossFade fadeOut\" : \"crossFade active\",\n            src: url\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 32\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(ImageLoader, {\n            style: props.style,\n            className: nextIndex === index ? \"crossFade fadeIn\" : \"crossFade\",\n            src: url\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 32\n          }, this);\n        }\n      } else {\n        if (showedImageIndex === index) {\n          return /*#__PURE__*/_jsxDEV(\"img\", {\n            onLoad: onLoad,\n            style: props.style,\n            className: next ? \"crossFade fadeOut\" : \"crossFade active\",\n            src: url,\n            alt: \"Slider \" + index\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 32\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(\"img\", {\n            style: props.style,\n            className: nextIndex === index ? \"crossFade fadeIn\" : \"crossFade\",\n            src: url,\n            alt: \"Slider \" + index\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 32\n          }, this);\n        }\n      }\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CrossFadeImages, \"tevdBN5o6XPmtRtmjTBekQf1g3U=\");\n\n_c2 = CrossFadeImages;\nCrossFadeImages.defaultProps = {\n  active: false,\n  skeletonOnLoadingImages: false,\n  elevation: true\n};\nCrossFadeImages.propTypes = {\n  images: PropTypes.array.isRequired,\n  prefixUrl: PropTypes.string.isRequired,\n  interval: PropTypes.number,\n  index: PropTypes.number,\n  style: PropTypes.object,\n  onLoad: PropTypes.func,\n  active: PropTypes.bool,\n  //if false, disable automatic cross fade between image for better performance\n  skeletonOnLoadingImages: PropTypes.bool,\n  elevation: PropTypes.bool\n};\nexport default CrossFadeImages;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"CrossFadeImages\");","map":{"version":3,"sources":["/Users/bdeguigne/Documents/Game Bringer/src/components/CrossFadeImages.js"],"names":["React","useEffect","useState","PropTypes","styled","crossFadeImagesBoxShadow","ImageLoader","Container","div","props","shadow","CrossFadeImages","showedImageIndex","setShowedImageIndex","next","setNext","nextIndex","setNextIndex","loaded","setLoaded","interval","undefined","active","images","length","setInterval","clearInterval","getNextIndex","setTimeout","incrementIndex","index","goToIndex","onLoad","borderRadius","style","elevation","map","image","url","prefixUrl","image_id","skeletonOnLoadingImages","defaultProps","propTypes","array","isRequired","string","number","object","func","bool"],"mappings":"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","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport React, {useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport styled from \"styled-components\";\nimport \"./CrossFadeImage.css\";\nimport {crossFadeImagesBoxShadow} from \"../utils/styles\";\nimport ImageLoader from \"./ImageLoader\";\n\nconst Container = styled.div`\n  width: 100%;\n  height: 100%;\n  position: relative;\n  box-shadow: ${ props => props.shadow ? crossFadeImagesBoxShadow : null};\n`\n\nconst CrossFadeImages = props => {\n    const [showedImageIndex, setShowedImageIndex] = useState(0);\n    const [next, setNext] = useState(false);\n    const [nextIndex, setNextIndex] = useState(-1);\n    const [loaded, setLoaded] = useState(false);\n\n    useEffect(() => {\n        let interval;\n        if (props.interval !== undefined && props.active && props.images && props.images.length > 1) {\n            interval = setInterval(() => setNext(true), props.interval);\n        }\n\n        if (props.interval !== undefined && !props.active) {\n            clearInterval(interval);\n        }\n        return () => {\n            clearInterval(interval);\n        };\n    }, [props.interval, props.active]);\n\n    useEffect(() => {\n        if (next && props.interval) {\n            setNextIndex(getNextIndex());\n            setTimeout(incrementIndex, 550);\n        }\n    }, [next]);\n\n    useEffect(() => {\n        if (props.index !== undefined) {\n            goToIndex(props.index);\n        }\n    }, [props.index])\n\n    useEffect(() => {\n        if (loaded === true && props.onLoad) {\n            props.onLoad();\n        }\n    }, [loaded]);\n\n\n\n    function getNextIndex() {\n        if (showedImageIndex + 1 >= props.images.length)\n            return 0;\n        else\n            return showedImageIndex + 1;\n    }\n\n    function incrementIndex() {\n        if (showedImageIndex + 1 >= props.images.length)\n            setShowedImageIndex(0);\n        else\n            setShowedImageIndex(showedImageIndex + 1);\n        setNext(false);\n    }\n\n    function goToIndex(index) {\n        if (index !== showedImageIndex) {\n            setNext(true)\n            setNextIndex(index);\n            setTimeout(() => {\n                setShowedImageIndex(index)\n                setNext(false);\n            }, 550);\n        }\n    }\n\n    function onLoad() {\n        if (loaded === false) {\n            setLoaded(true);\n        }\n    }\n\n    return (\n        <Container style={{borderRadius : props.style.borderRadius}} shadow={props.elevation}>\n            {props.images && props.images.map((image, index) => {\n                const url = props.prefixUrl + image.image_id + \".jpg\"\n                if (props.skeletonOnLoadingImages) {\n                    if (showedImageIndex === index) {\n                        return <ImageLoader onLoad={onLoad}  style={props.style} key={index} className={next ?  \"crossFade fadeOut\" : \"crossFade active\" } src={url}/>\n                    }\n                    else {\n                        return <ImageLoader style={props.style} key={index} className={nextIndex === index ? \"crossFade fadeIn\" : \"crossFade\"} src={url} />\n                    }\n                } else {\n                    if (showedImageIndex === index) {\n                        return <img onLoad={onLoad}  style={props.style} key={index} className={next ?  \"crossFade fadeOut\" : \"crossFade active\" } src={url} alt={\"Slider \" + index}/>\n                    }\n                    else {\n                        return <img style={props.style} key={index} className={nextIndex === index ? \"crossFade fadeIn\" : \"crossFade\"} src={url} alt={\"Slider \" + index} />\n                    }\n                }\n            })}\n\n        </Container>\n    );\n};\n\nCrossFadeImages.defaultProps = {\n    active: false,\n    skeletonOnLoadingImages: false,\n    elevation: true\n}\n\nCrossFadeImages.propTypes = {\n    images: PropTypes.array.isRequired,\n    prefixUrl: PropTypes.string.isRequired,\n    interval: PropTypes.number,\n    index: PropTypes.number,\n    style: PropTypes.object,\n    onLoad: PropTypes.func,\n    active: PropTypes.bool,     //if false, disable automatic cross fade between image for better performance\n    skeletonOnLoadingImages: PropTypes.bool,\n    elevation: PropTypes.bool,\n};\n\nexport default CrossFadeImages;\n"]},"metadata":{},"sourceType":"module"}